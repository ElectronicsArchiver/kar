.include "macros.inc"

.section .text

.global ClampStick
ClampStick:
/* 803DBA28 003D8828  88 03 00 00 */	lbz r0, 0(r3)
/* 803DBA2C 003D882C  89 84 00 00 */	lbz r12, 0(r4)
/* 803DBA30 003D8830  7C 00 07 75 */	extsb. r0, r0
/* 803DBA34 003D8834  7D 8C 07 74 */	extsb r12, r12
/* 803DBA38 003D8838  7C 0B 03 78 */	mr r11, r0
/* 803DBA3C 003D883C  41 80 00 0C */	blt lbl_803DBA48
/* 803DBA40 003D8840  38 00 00 01 */	li r0, 1
/* 803DBA44 003D8844  48 00 00 0C */	b lbl_803DBA50
lbl_803DBA48:
/* 803DBA48 003D8848  38 00 FF FF */	li r0, -1
/* 803DBA4C 003D884C  7D 6B 00 D0 */	neg r11, r11
lbl_803DBA50:
/* 803DBA50 003D8850  2C 0C 00 00 */	cmpwi r12, 0
/* 803DBA54 003D8854  41 80 00 0C */	blt lbl_803DBA60
/* 803DBA58 003D8858  39 00 00 01 */	li r8, 1
/* 803DBA5C 003D885C  48 00 00 0C */	b lbl_803DBA68
lbl_803DBA60:
/* 803DBA60 003D8860  39 00 FF FF */	li r8, -1
/* 803DBA64 003D8864  7D 8C 00 D0 */	neg r12, r12
lbl_803DBA68:
/* 803DBA68 003D8868  7C E7 07 74 */	extsb r7, r7
/* 803DBA6C 003D886C  7C 0B 38 00 */	cmpw r11, r7
/* 803DBA70 003D8870  41 81 00 0C */	bgt lbl_803DBA7C
/* 803DBA74 003D8874  39 60 00 00 */	li r11, 0
/* 803DBA78 003D8878  48 00 00 08 */	b lbl_803DBA80
lbl_803DBA7C:
/* 803DBA7C 003D887C  7D 67 58 50 */	subf r11, r7, r11
lbl_803DBA80:
/* 803DBA80 003D8880  7C 0C 38 00 */	cmpw r12, r7
/* 803DBA84 003D8884  41 81 00 0C */	bgt lbl_803DBA90
/* 803DBA88 003D8888  39 80 00 00 */	li r12, 0
/* 803DBA8C 003D888C  48 00 00 08 */	b lbl_803DBA94
lbl_803DBA90:
/* 803DBA90 003D8890  7D 87 60 50 */	subf r12, r7, r12
lbl_803DBA94:
/* 803DBA94 003D8894  2C 0B 00 00 */	cmpwi r11, 0
/* 803DBA98 003D8898  40 82 00 1C */	bne lbl_803DBAB4
/* 803DBA9C 003D889C  2C 0C 00 00 */	cmpwi r12, 0
/* 803DBAA0 003D88A0  40 82 00 14 */	bne lbl_803DBAB4
/* 803DBAA4 003D88A4  38 00 00 00 */	li r0, 0
/* 803DBAA8 003D88A8  98 04 00 00 */	stb r0, 0(r4)
/* 803DBAAC 003D88AC  98 03 00 00 */	stb r0, 0(r3)
/* 803DBAB0 003D88B0  4E 80 00 20 */	blr 
lbl_803DBAB4:
/* 803DBAB4 003D88B4  7C C6 07 74 */	extsb r6, r6
/* 803DBAB8 003D88B8  7D 26 61 D6 */	mullw r9, r6, r12
/* 803DBABC 003D88BC  7C E6 59 D6 */	mullw r7, r6, r11
/* 803DBAC0 003D88C0  7C 09 38 00 */	cmpw r9, r7
/* 803DBAC4 003D88C4  41 81 00 44 */	bgt lbl_803DBB08
/* 803DBAC8 003D88C8  7C A9 07 74 */	extsb r9, r5
/* 803DBACC 003D88CC  7C A6 48 50 */	subf r5, r6, r9
/* 803DBAD0 003D88D0  7C AC 29 D6 */	mullw r5, r12, r5
/* 803DBAD4 003D88D4  7D 26 49 D6 */	mullw r9, r6, r9
/* 803DBAD8 003D88D8  7C E7 2A 14 */	add r7, r7, r5
/* 803DBADC 003D88DC  7C 09 38 00 */	cmpw r9, r7
/* 803DBAE0 003D88E0  40 80 00 64 */	bge lbl_803DBB44
/* 803DBAE4 003D88E4  7C CB 49 D6 */	mullw r6, r11, r9
/* 803DBAE8 003D88E8  7C AC 49 D6 */	mullw r5, r12, r9
/* 803DBAEC 003D88EC  7C C6 3B D6 */	divw r6, r6, r7
/* 803DBAF0 003D88F0  7C A5 3B D6 */	divw r5, r5, r7
/* 803DBAF4 003D88F4  7C C6 07 74 */	extsb r6, r6
/* 803DBAF8 003D88F8  7C A5 07 74 */	extsb r5, r5
/* 803DBAFC 003D88FC  39 66 00 00 */	addi r11, r6, 0
/* 803DBB00 003D8900  39 85 00 00 */	addi r12, r5, 0
/* 803DBB04 003D8904  48 00 00 40 */	b lbl_803DBB44
lbl_803DBB08:
/* 803DBB08 003D8908  7C A7 07 74 */	extsb r7, r5
/* 803DBB0C 003D890C  7C A6 38 50 */	subf r5, r6, r7
/* 803DBB10 003D8910  7C AB 29 D6 */	mullw r5, r11, r5
/* 803DBB14 003D8914  7D 46 39 D6 */	mullw r10, r6, r7
/* 803DBB18 003D8918  7C E9 2A 14 */	add r7, r9, r5
/* 803DBB1C 003D891C  7C 0A 38 00 */	cmpw r10, r7
/* 803DBB20 003D8920  40 80 00 24 */	bge lbl_803DBB44
/* 803DBB24 003D8924  7C CB 51 D6 */	mullw r6, r11, r10
/* 803DBB28 003D8928  7C AC 51 D6 */	mullw r5, r12, r10
/* 803DBB2C 003D892C  7C C6 3B D6 */	divw r6, r6, r7
/* 803DBB30 003D8930  7C A5 3B D6 */	divw r5, r5, r7
/* 803DBB34 003D8934  7C C6 07 74 */	extsb r6, r6
/* 803DBB38 003D8938  7C A5 07 74 */	extsb r5, r5
/* 803DBB3C 003D893C  39 66 00 00 */	addi r11, r6, 0
/* 803DBB40 003D8940  39 85 00 00 */	addi r12, r5, 0
lbl_803DBB44:
/* 803DBB44 003D8944  7C A0 59 D6 */	mullw r5, r0, r11
/* 803DBB48 003D8948  7C 08 61 D6 */	mullw r0, r8, r12
/* 803DBB4C 003D894C  98 A3 00 00 */	stb r5, 0(r3)
/* 803DBB50 003D8950  98 04 00 00 */	stb r0, 0(r4)
/* 803DBB54 003D8954  4E 80 00 20 */	blr 

.global PADClamp
PADClamp:
/* 803DBB58 003D8958  7C 08 02 A6 */	mflr r0
/* 803DBB5C 003D895C  3C 80 80 49 */	lis r4, lbl_8048C448@ha
/* 803DBB60 003D8960  90 01 00 04 */	stw r0, 4(r1)
/* 803DBB64 003D8964  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803DBB68 003D8968  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803DBB6C 003D896C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803DBB70 003D8970  3B C0 00 00 */	li r30, 0
/* 803DBB74 003D8974  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803DBB78 003D8978  3B A3 00 00 */	addi r29, r3, 0
/* 803DBB7C 003D897C  93 81 00 10 */	stw r28, 0x10(r1)
/* 803DBB80 003D8980  3B 84 C4 48 */	addi r28, r4, lbl_8048C448@l
/* 803DBB84 003D8984  3B FC 00 01 */	addi r31, r28, 1
lbl_803DBB88:
/* 803DBB88 003D8988  88 1D 00 0A */	lbz r0, 0xa(r29)
/* 803DBB8C 003D898C  7C 00 07 75 */	extsb. r0, r0
/* 803DBB90 003D8990  40 82 00 AC */	bne lbl_803DBC3C
/* 803DBB94 003D8994  88 BC 00 03 */	lbz r5, 3(r28)
/* 803DBB98 003D8998  38 7D 00 02 */	addi r3, r29, 2
/* 803DBB9C 003D899C  88 DC 00 04 */	lbz r6, 4(r28)
/* 803DBBA0 003D89A0  38 9D 00 03 */	addi r4, r29, 3
/* 803DBBA4 003D89A4  88 FC 00 02 */	lbz r7, 2(r28)
/* 803DBBA8 003D89A8  4B FF FE 81 */	bl ClampStick
/* 803DBBAC 003D89AC  88 BC 00 06 */	lbz r5, 6(r28)
/* 803DBBB0 003D89B0  38 7D 00 04 */	addi r3, r29, 4
/* 803DBBB4 003D89B4  88 DC 00 07 */	lbz r6, 7(r28)
/* 803DBBB8 003D89B8  38 9D 00 05 */	addi r4, r29, 5
/* 803DBBBC 003D89BC  88 FC 00 05 */	lbz r7, 5(r28)
/* 803DBBC0 003D89C0  4B FF FE 69 */	bl ClampStick
/* 803DBBC4 003D89C4  88 9D 00 06 */	lbz r4, 6(r29)
/* 803DBBC8 003D89C8  88 1C 00 00 */	lbz r0, 0(r28)
/* 803DBBCC 003D89CC  88 7F 00 00 */	lbz r3, 0(r31)
/* 803DBBD0 003D89D0  7C 04 00 40 */	cmplw r4, r0
/* 803DBBD4 003D89D4  41 81 00 10 */	bgt lbl_803DBBE4
/* 803DBBD8 003D89D8  38 00 00 00 */	li r0, 0
/* 803DBBDC 003D89DC  98 1D 00 06 */	stb r0, 6(r29)
/* 803DBBE0 003D89E0  48 00 00 20 */	b lbl_803DBC00
lbl_803DBBE4:
/* 803DBBE4 003D89E4  7C 03 20 40 */	cmplw r3, r4
/* 803DBBE8 003D89E8  40 80 00 08 */	bge lbl_803DBBF0
/* 803DBBEC 003D89EC  98 7D 00 06 */	stb r3, 6(r29)
lbl_803DBBF0:
/* 803DBBF0 003D89F0  88 7C 00 00 */	lbz r3, 0(r28)
/* 803DBBF4 003D89F4  88 1D 00 06 */	lbz r0, 6(r29)
/* 803DBBF8 003D89F8  7C 03 00 50 */	subf r0, r3, r0
/* 803DBBFC 003D89FC  98 1D 00 06 */	stb r0, 6(r29)
lbl_803DBC00:
/* 803DBC00 003D8A00  88 9D 00 07 */	lbz r4, 7(r29)
/* 803DBC04 003D8A04  88 1C 00 00 */	lbz r0, 0(r28)
/* 803DBC08 003D8A08  88 7F 00 00 */	lbz r3, 0(r31)
/* 803DBC0C 003D8A0C  7C 04 00 40 */	cmplw r4, r0
/* 803DBC10 003D8A10  41 81 00 10 */	bgt lbl_803DBC20
/* 803DBC14 003D8A14  38 00 00 00 */	li r0, 0
/* 803DBC18 003D8A18  98 1D 00 07 */	stb r0, 7(r29)
/* 803DBC1C 003D8A1C  48 00 00 20 */	b lbl_803DBC3C
lbl_803DBC20:
/* 803DBC20 003D8A20  7C 03 20 40 */	cmplw r3, r4
/* 803DBC24 003D8A24  40 80 00 08 */	bge lbl_803DBC2C
/* 803DBC28 003D8A28  98 7D 00 07 */	stb r3, 7(r29)
lbl_803DBC2C:
/* 803DBC2C 003D8A2C  88 7C 00 00 */	lbz r3, 0(r28)
/* 803DBC30 003D8A30  88 1D 00 07 */	lbz r0, 7(r29)
/* 803DBC34 003D8A34  7C 03 00 50 */	subf r0, r3, r0
/* 803DBC38 003D8A38  98 1D 00 07 */	stb r0, 7(r29)
lbl_803DBC3C:
/* 803DBC3C 003D8A3C  3B DE 00 01 */	addi r30, r30, 1
/* 803DBC40 003D8A40  2C 1E 00 04 */	cmpwi r30, 4
/* 803DBC44 003D8A44  3B BD 00 0C */	addi r29, r29, 0xc
/* 803DBC48 003D8A48  41 80 FF 40 */	blt lbl_803DBB88
/* 803DBC4C 003D8A4C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803DBC50 003D8A50  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803DBC54 003D8A54  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803DBC58 003D8A58  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803DBC5C 003D8A5C  83 81 00 10 */	lwz r28, 0x10(r1)
/* 803DBC60 003D8A60  38 21 00 20 */	addi r1, r1, 0x20
/* 803DBC64 003D8A64  7C 08 03 A6 */	mtlr r0
/* 803DBC68 003D8A68  4E 80 00 20 */	blr 
